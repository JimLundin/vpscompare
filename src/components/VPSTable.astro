---
import type { VPSPlan } from '../types/vps.js';

interface Props {
	plans: VPSPlan[];
}

const { plans } = Astro.props;
---

<div class="vps-table-container">
	<table class="vps-table">
		<thead>
			<tr>
				<th>Provider</th>
				<th>Plan</th>
				<th>Price/Month</th>
				<th>CPU</th>
				<th>RAM</th>
				<th>Storage</th>
				<th>Bandwidth</th>
				<th>Uptime</th>
				<th>Support</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			{plans.map((plan) => (
				<tr>
					<td class="provider-cell">
						<strong>{plan.provider}</strong>
					</td>
					<td class="plan-cell">
						{plan.name}
					</td>
					<td class="price-cell">
						<div class="price-container">
							<span class="price">
								{plan.price.currency === 'USD' ? '$' : 'â‚¬'}{plan.price.monthly}
							</span>
							{plan.price.yearly && (
								<span class="yearly-price">
									(${plan.price.yearly}/year)
								</span>
							)}
						</div>
					</td>
					<td>{plan.specs.cpu}</td>
					<td>{plan.specs.ram}</td>
					<td>{plan.specs.storage}</td>
					<td>{plan.specs.bandwidth}</td>
					<td class="uptime-cell">{plan.uptime}</td>
					<td class="support-cell">{plan.support}</td>
					<td class="action-cell">
						<a href={plan.website} target="_blank" rel="noopener noreferrer" class="cta-button">
							View Plan
						</a>
					</td>
				</tr>
			))}
		</tbody>
	</table>
</div>

<style>
	.vps-table-container {
		width: 100%;
		overflow-x: auto;
		margin: 2rem 0;
		border-radius: 12px;
		box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
		background: white;
	}

	.vps-table {
		width: 100%;
		border-collapse: collapse;
		font-family: Inter, Roboto, 'Helvetica Neue', 'Arial Nova', 'Nimbus Sans', Arial, sans-serif;
		font-size: 14px;
	}

	.vps-table th {
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		color: white;
		font-weight: 600;
		padding: 1rem 0.75rem;
		text-align: left;
		font-size: 13px;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		border-bottom: 2px solid #e5e7eb;
	}

	.vps-table th:first-child {
		border-top-left-radius: 12px;
	}

	.vps-table th:last-child {
		border-top-right-radius: 12px;
	}

	.vps-table td {
		padding: 1rem 0.75rem;
		border-bottom: 1px solid #f3f4f6;
		vertical-align: middle;
	}

	.vps-table tbody tr:hover {
		background-color: #f8fafc;
		transition: background-color 0.2s ease;
	}

	.vps-table tbody tr:last-child td {
		border-bottom: none;
	}

	.provider-cell strong {
		color: #1f2937;
		font-weight: 600;
	}

	.plan-cell {
		color: #4b5563;
		font-weight: 500;
	}

	.price-cell {
		vertical-align: middle;
	}

	.price-cell .price-container {
		display: flex;
		flex-direction: column;
		gap: 0.25rem;
		align-items: flex-start;
	}

	.price {
		font-weight: 700;
		color: #059669;
		font-size: 16px;
	}

	.yearly-price {
		font-size: 12px;
		color: #6b7280;
	}

	.uptime-cell {
		color: #059669;
		font-weight: 600;
	}

	.support-cell {
		color: #4b5563;
		font-size: 13px;
	}

	.action-cell {
		text-align: center;
	}

	.cta-button {
		display: inline-block;
		padding: 0.5rem 1rem;
		background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
		color: white;
		text-decoration: none;
		border-radius: 6px;
		font-weight: 500;
		font-size: 13px;
		transition: all 0.2s ease;
		border: none;
		cursor: pointer;
	}

	.cta-button:hover {
		background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
		transform: translateY(-1px);
		box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);
	}

	@media (max-width: 768px) {
		.vps-table-container {
			margin: 1rem 0;
		}

		.vps-table {
			font-size: 12px;
		}

		.vps-table th,
		.vps-table td {
			padding: 0.75rem 0.5rem;
		}

		.vps-table th {
			font-size: 11px;
		}

		.price {
			font-size: 14px;
		}

		.yearly-price {
			font-size: 11px;
		}

		.cta-button {
			padding: 0.4rem 0.8rem;
			font-size: 12px;
		}
	}

	@media (max-width: 640px) {
		.vps-table-container {
			border-radius: 8px;
		}

		.vps-table th:first-child {
			border-top-left-radius: 8px;
		}

		.vps-table th:last-child {
			border-top-right-radius: 8px;
		}

		.vps-table {
			font-size: 11px;
		}

		.vps-table th,
		.vps-table td {
			padding: 0.5rem 0.4rem;
		}

		.price-cell .price-container {
			gap: 0.1rem;
		}

		.price {
			font-size: 13px;
		}

		.yearly-price {
			font-size: 10px;
		}
	}
</style>